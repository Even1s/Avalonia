<Window
    Height="800"
    MinHeight="400"
    MinWidth="800"
    Title="Окно администратора"
    Width="1200"
    x:Class="NikitApp.AdminWindows.AdminWindow"
    x:DataType="vm:AdminWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:vm="clr-namespace:NikitApp.AdminWindows"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <TabControl>

        <!--  Вкладка 1: Сотрудники  -->
        <TabItem Header="Сотрудники">
            <StackPanel Orientation="Vertical">
                <StackPanel
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="10">
                    <Button
                        Click="RefreshUsersBtn_OnClick"
                        Content="Обновить"
                        Name="RefreshUsersBtn" />
                    <Button
                        Click="UserDeleteBtn_OnClick"
                        Content="Удалить"
                        Foreground="Red"
                        IsEnabled="False"
                        Name="UserDeleteBtn" />
                    <Button
                        Click="UserEditBtn_OnClick"
                        Content="Изменить"
                        IsEnabled="False"
                        Name="UserEditBtn" />
                    <Button
                        Click="AddUserBtn_OnClick"
                        Content="Добавить пользователя"
                        Name="AddUserBtn" />
                </StackPanel>
                <DataGrid
                    AutoGenerateColumns="False"
                    CanUserReorderColumns="False"
                    CanUserResizeColumns="True"
                    ColumnWidth="auto"
                    IsReadOnly="True"
                    ItemsSource="{Binding UsersList}"
                    Name="UsersDGrid"
                    SelectionChanged="UsersDataGrid_OnSelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding Login}" Header="Логин" />
                        <DataGridTextColumn Binding="{Binding LastName}" Header="Фамилия" />
                        <DataGridTextColumn Binding="{Binding Name}" Header="Имя" />
                        <DataGridTextColumn Binding="{Binding MiddleName}" Header="Отчество" />
                        <DataGridTextColumn Binding="{Binding Role.Name}" Header="Роль" />
                        <DataGridTextColumn Binding="{Binding Status}" Header="Статус" />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </TabItem>

        <!--  Вкладка 2: Смены  -->
        <TabItem Header="Смены">
            <StackPanel HorizontalAlignment="Stretch" Orientation="Vertical">
                <StackPanel
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="10">
                    <Button
                        Click="RefreshShiftsBtn_OnClick"
                        Content="Обновить"
                        Name="RefreshShiftsBtn" />
                    <Button
                        Click="ShiftDeleteBtn_OnClick"
                        Content="Удалить"
                        Foreground="Red"
                        HorizontalAlignment="Right"
                        IsEnabled="False"
                        Name="ShiftDeleteBtn" />
                    <Button
                        Click="ShiftEditBtn_OnClick"
                        Content="Изменить"
                        HorizontalAlignment="Right"
                        IsEnabled="False"
                        Name="ShiftEditBtn" />
                    <Button
                        Click="AddShiftBtn_OnClick"
                        Content="Добавить смену"
                        HorizontalAlignment="Right"
                        Name="AddShiftBtn" />
                </StackPanel>
                <DataGrid
                    AutoGenerateColumns="False"
                    CanUserReorderColumns="False"
                    CanUserResizeColumns="True"
                    ColumnWidth="auto"
                    ItemsSource="{Binding ShiftsList}"
                    Name="ShiftsDGrid"
                    SelectionChanged="ShiftsDataGrid_OnSelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding ShiftStarted.Date, StringFormat=dd.MM.yyyy}" Header="Дата" />
                        <DataGridTextColumn Binding="{Binding ShiftStarted, StringFormat=HH:mm}" Header="Начало" />
                        <DataGridTextColumn Binding="{Binding ShiftEnds, StringFormat=HH:mm}" Header="Конец" />
                        <DataGridTextColumn Binding="{Binding Users.Count}" Header="Сотрудники" />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </TabItem>

        <!--  Вкладка 3: Столики  -->
        <TabItem Header="Столики">
            <StackPanel Orientation="Vertical">
                <StackPanel
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="10">
                    <Button
                        Click="RefreshTablesBtn_OnClick"
                        Content="Обновить"
                        Name="RefreshTablesBtn" />
                    <Button
                        Click="DeleteTableBtn_OnClick"
                        Content="Удалить"
                        Foreground="Red"
                        IsEnabled="False"
                        Name="DeleteTableBtn" />
                    <Button
                        Click="AddTableBtn_OnClick"
                        Content="Добавить столик"
                        Name="AddTableBtn" />
                </StackPanel>
                <DataGrid
                    AutoGenerateColumns="False"
                    CanUserReorderColumns="False"
                    CanUserResizeColumns="True"
                    ColumnWidth="auto"
                    ItemsSource="{Binding TablesList}"
                    Name="TablesDGrid"
                    SelectionChanged="TablesDataGrid_OnSelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding Id}" Header="ID" />
                        <DataGridTextColumn Binding="{Binding Number}" Header="Номер столика" />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </TabItem>

        <!--  Вкладка 4: Заказы  -->
        <TabItem Header="Заказы">
            <StackPanel Orientation="Vertical">
                <StackPanel
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="10">
                    <Button
                        Click="RefreshOrdersBtn_OnClick"
                        Content="Обновить"
                        Name="RefreshOrdersBtn" />
                    <Button
                        Click="EditOrderBtn_OnClick"
                        Content="Изменить"
                        IsEnabled="False"
                        Name="EditOrderBtn" />
                </StackPanel>
                <DataGrid
                    AutoGenerateColumns="False"
                    CanUserReorderColumns="False"
                    CanUserResizeColumns="True"
                    ColumnWidth="auto"
                    IsReadOnly="True"
                    ItemsSource="{Binding OrdersList}"
                    Name="OrdersDGrid"
                    SelectionChanged="OrdersDataGrid_OnSelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding Table.Number}" Header="Столик" />
                        <DataGridTextColumn Binding="{Binding ClientsAmount}" Header="Кол-во клиентов" />
                        <DataGridTextColumn Binding="{Binding Status}" Header="Статус" />
                        <DataGridTextColumn Binding="{Binding Shift.ShiftStarted, StringFormat=dd.MM.yyyy}" Header="Смена" />
                        <DataGridTextColumn Binding="{Binding CreatedAt, StringFormat=HH:mm}" Header="Сделан в" />
                        <DataGridTextColumn Binding="{Binding CompletedAt, StringFormat=HH:mm, TargetNullValue='Не выполнен'}" Header="Выполнен в" />
                        <DataGridTextColumn Binding="{Binding Content}" Header="Содержимое заказа" />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </TabItem>

        <!--  Вкладка 5: Отчеты  -->
        <TabItem Header="Отчеты">
            <StackPanel
                HorizontalAlignment="Left"
                Margin="20"
                Orientation="Vertical"
                Spacing="10"
                VerticalAlignment="Top">
                <Button
                    Click="AllOrdersReportXlsxBtn_OnClick"
                    Content="Сформировать отчет о всех заказах за смену (.xlsx)"
                    Name="AllOrdersReportXlsxBtn" />
                <Button
                    Click="AllOrdersReportPdfBtn_OnClick"
                    Content="Сформировать отчет о всех заказах за смену (.pdf)"
                    Name="AllOrdersReportPdfBtn" />
                <Button
                    Click="PaidOrdersReportXlsxBtn_OnClick"
                    Content="Сформировать отчет о оплаченных заказах за смену (.xlsx)"
                    Name="PaidOrdersReportXlsxBtn" />
                <Button
                    Click="PaidOrdersReportPdfBtn_OnClick"
                    Content="Сформировать отчет о оплаченных заказах за смену (.pdf)"
                    Name="PaidOrdersReportPdfBtn" />

                <TextBlock
                    FontSize="20"
                    Foreground="Red"
                    HorizontalAlignment="Center"
                    IsVisible="False"
                    Name="ReportErrorTextBlock" />

            </StackPanel>
        </TabItem>

        <!--  Вкладка 6: Профиль  -->
        <TabItem Header="Профиль">
            <StackPanel
                Margin="10"
                Orientation="Horizontal"
                Spacing="10"
                VerticalAlignment="Top">
                <TextBlock
                    HorizontalAlignment="Left"
                    Text="Роль: Администратор"
                    VerticalAlignment="Center" />
                <Button
                    Click="LogOutBtn_OnClick"
                    Content="Выйти"
                    Foreground="Red"
                    HorizontalAlignment="Left"
                    Name="LogOutBtn"
                    VerticalAlignment="Center" />
            </StackPanel>
        </TabItem>

    </TabControl>

</Window>
